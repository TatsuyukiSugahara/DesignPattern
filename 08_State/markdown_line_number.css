body {
  counter-reset: line;
  font-family: monospace;
  background: #f9f9f9;
  color: #333;
  padding: 2em;
  line-height: 1.6;
  white-space: pre-line;
}

p, h1, h2, h3, h4, h5, h6, li, blockquote, pre, code, table, tr, td {
  display: block;
  position: relative;
  padding-left: 2.5em;
}

p::before,
h1::before,
h2::before,
h3::before,
h4::before,
h5::before,
h6::before,
li::before,
blockquote::before,
pre::before,
code::before,
tr::before,
td::before {
  counter-increment: line;
  content: counter(line);
  position: absolute;
  left: 0;
  width: 2em;
  color: #aaa;
  text-align: right;
}